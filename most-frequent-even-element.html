<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Most Frequent Even Element</title>
</head>
<body>
    <script language="javascript">
        /*
        Most Frequent Even Element

        Given an integer array nums, return the most frequent even element.

        If there is a tie, return the smallest one. If there is no such element, r
        eturn -1.

        Input: nums = [0,1,2,2,4,4,1]
        Output: 2
        Explanation:
                     The even elements are 0, 2, and 4. Of these, 2 and 4 appear the most.
                     We return the smallest one, which is 2.

        Input: nums = [4,4,4,9,2,4]
        Output: 4
        Explanation: 4 is the even element appears the most.

        Input: nums = [29,47,21,41,13,37,25,7]
        Output: -1
        Explanation: There is no even element.
        */
        var mostFrequentEven = function(nums) {
            // sort nums array (smallest numbers first)
            nums = nums.sort((a, b) => {
                return a - b;
            });
            
            const evenFrequentElementsMap = new Map();
            
            // iterate through all nums
            for(let i = 0; i < nums.length; i++) {
                let num = nums[i];
                
                // check if num is odd
                if((num % 2) === 1) {
                    continue;
                }
                
                // update even num map
                evenFrequentElementsMap.set(num, (evenFrequentElementsMap.get(num) || 0) + 1);
            }
            
            console.log(evenFrequentElementsMap);
            
            let outputValue = -1;
            let maxFrequency = 0;
            
            // iterate through all key value pairs in even num map
            for(let [num, frequency] of evenFrequentElementsMap.entries()) {
                // check if the current value is bigger than the previous max frequency
                if(frequency > maxFrequency) {
                    // set current frequency to max frequency
                    maxFrequency = frequency;
                    
                    // update output value
                    outputValue = num;
                }
            }
            
            return outputValue;
        };

        // Output: 2
        console.log(mostFrequentEven([0,1,2,2,4,4,1]));

        // Output: 4
        console.log(mostFrequentEven([4,4,4,9,2,4]));

        // Output: -1
        console.log(mostFrequentEven([29,47,21,41,13,37,25,7]));

        // Output: 0
        console.log(mostFrequentEven([0,0,0,0]));

        // Output: 3346
        console.log(mostFrequentEven([8154,9139,8194,3346,5450,9190,133,8239,4606,8671,8412,6290]));

        // Output: 74
        console.log(mostFrequentEven([8267,8727,2649,7359,2142,7824,7399,3424,8868,476,9769,4631,6631,4205,9178,7920,4748,5523,74,5550,516,6448,3475,7867,7041,5896,4382,2066,8101,674,67,9311,4308,1693,4586,3959,2973,2158,5067,9060,2988,1147,1746,9722,8550,9126,3029,1677,4154,5473,6589,5381,1486,8699,792,8349,6773,496,4505,6163,6843,1232,4809,4432,6251,7658,4949,1419,7005,3815,6295,4635,7785,4891,6941,6952,7218,134,2718,7409,9551]));
    </script>
</body>
</html>