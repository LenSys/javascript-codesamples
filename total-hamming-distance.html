<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Hamming Distance</title>
</head>
<body>
    <script language="javascript">
        /*
        Total Hamming Distance

        The Hamming distance between two integers is the number of positions 
        at which the corresponding bits are different.

        Given an integer array nums, return the sum of Hamming distances 
        between all the pairs of the integers in nums.

        Input: nums = [4,14,2]
        Output: 6
        Explanation: In binary representation, the 4 is 0100, 14 is 1110, and 2 is 0010 (just
                     showing the four bits relevant in this case).
                     The answer will be:
                     HammingDistance(4, 14) + HammingDistance(4, 2) + 
                     HammingDistance(14, 2) = 2 + 2 + 2 = 6.

        Input: nums = [4,14,4]
        Output: 4
        */
        var totalHammingDistance = function(nums) {
    
            let totalHd = 0;
            let offset = 1;
            
            for(let i = 0; i < nums.length - 1; i++) {
                
                for(let j = offset; j < nums.length; j++) {
                    if(i === j) {
                        continue;
                    }
                    
                    let bin1 = nums[i].toString(2).padStart(32, 0);
                    let bin2 = nums[j].toString(2).padStart(32, 0);
                    let hammingDist = 0;
                    
                    if(bin1 !== bin2) {
                        for(let i = 0; i < bin1.length; i++) {
                            if(bin1[i] !== bin2[i]) {
                                hammingDist++;
                            }
                        }
                    
                        console.log("hd", nums[i], nums[j], bin1, bin2, hammingDist);
                    
                        totalHd += hammingDist;
                    }
                }
                
                offset++;
            }
            console.log('---');
            
            return totalHd;
        };


        // Output: 6
        console.log(totalHammingDistance([4, 14, 2]));

        // Output: 4
        console.log(totalHammingDistance([14, 4, 4]));

        // Output: 8
        console.log(totalHammingDistance([4, 14, 4, 14]));
    </script>
</body>
</html>